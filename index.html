<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø³ÙƒØ±Ø¨Øª Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ø°ÙƒÙŠ</title>

<style>
*{box-sizing:border-box;font-family:'Cairo',sans-serif}
body{
    margin:0;
    background:linear-gradient(180deg,#0b0218,#15062a);
    color:#fff;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}

/* ===== Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª ===== */
.screen{
    width:100%;
    max-width:390px;
    padding:18px;
    display:none;
}
.active{display:block}

/* ===== ØµÙØ­Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ© ===== */
.platform-selection{
    text-align:center;
}
.platform-selection h2{
    color:#ff7aa2;
    margin-bottom:20px;
}
.platform-selection p{
    font-size:.95rem;
    opacity:.9;
    margin-bottom:20px;
}
.platforms{
    display:flex;
    flex-direction:column;
    gap:15px;
    margin:20px 0;
}
.platform{
    background:#1c0d36;
    border-radius:16px;
    padding:15px;
    cursor:pointer;
    transition:all 0.3s;
    border:2px solid transparent;
}
.platform:hover{
    transform:translateY(-5px);
    border-color:#ff7aa2;
}
.platform.active-platform{
    border-color:#ff7aa2;
    background:#26104a;
}
.platform img{
    width:180px;
    height:auto;
    margin-bottom:10px;
    border-radius:8px;
}
.platform span{
    display:block;
    font-size:1.1rem;
    color:#fff;
}

/* ===== ØµÙØ­Ø© ID ===== */
.start{
    text-align:center;
}
.start h2{
    color:#ff7aa2;
    margin-bottom:10px;
}
.start p{
    font-size:.95rem;
    opacity:.9;
}
.platform-display{
    margin:15px 0;
    padding:10px;
    background:#1c0d36;
    border-radius:12px;
}
.platform-display img{
    width:150px;
    height:auto;
    border-radius:6px;
}
.platform-display span{
    display:block;
    margin-top:8px;
    color:#ff9dbb;
}
.back-btn{
    background:#26104a;
    color:#fff;
    border:none;
    padding:10px 20px;
    border-radius:12px;
    margin-bottom:15px;
    cursor:pointer;
}
.start input{
    width:100%;
    padding:14px;
    border-radius:14px;
    border:none;
    margin:15px 0;
    text-align:center;
    font-size:1rem;
}
.start button{
    width:100%;
    padding:14px;
    border-radius:16px;
    border:none;
    background:linear-gradient(90deg,#ff2f6d,#ff7aa2);
    color:#fff;
    font-size:1.05rem;
}

/* ===== ØªØ­Ù…ÙŠÙ„ ===== */
.loader{
    margin-top:30px;
    border:1px solid #fff;
    border-radius:14px;
    overflow:hidden;
}
.bar{
    height:18px;
    width:0%;
    background:linear-gradient(90deg,#ff2f6d,#ff7aa2);
    transition:.3s;
}
.loading-info{
    margin-top:20px;
    text-align:center;
}
.loading-info p{
    margin:5px 0;
    color:#ff9dbb;
}

/* ===== Ø§Ù„Ù„Ø¹Ø¨Ø© ===== */
.game{
    background:#0f0620;
    border-radius:20px;
    padding:15px;
}
.board{
    display:flex;
    flex-direction:column-reverse; /* Ø§Ù„Ø£Ù‡Ù… */
    gap:10px;
}
.row{
    display:flex;
    align-items:center;
    animation:rise .45s ease forwards;
}
@keyframes rise{
    from{opacity:0;transform:translateY(20px)}
    to{opacity:1;transform:translateY(0)}
}
.mult{
    width:65px;
    text-align:center;
    background:#1c0d36;
    border-radius:12px;
    padding:6px 0;
    font-size:.85rem;
    margin-left:8px;
}
.apples{
    display:flex;
    gap:8px;
    flex:1;
}
.apple{
    width:46px;
    height:46px;
    border-radius:50%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:1.5rem;
    transition:transform 0.3s, opacity 0.3s;
}
.apple:hover{
    transform:scale(1.1);
}
.good{
    background:radial-gradient(circle,#ff4d4d,#a30000);
}
.bad{
    background:radial-gradient(circle,#4dff9a,#0f4d2a);
    box-shadow:0 0 10px #2aff7b;
}

/* ===== Ø£Ø²Ø±Ø§Ø± ===== */
.menu{
    display:flex;
    gap:10px;
    margin-top:15px;
}
.menu button{
    flex:1;
    padding:12px;
    border-radius:14px;
    border:none;
    background:#26104a;
    color:#fff;
    font-size:.95rem;
}
</style>
</head>

<body>

<!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ© -->
<div class="screen active platform-selection" id="platformSelection">
    <h2>ğŸ Ø£ÙØ¶Ù„ Ø³ÙƒØ±Ø¨Øª ØªÙØ§Ø­Ø©</h2>
    <p>Ø§Ø®ØªØ± Ù…Ù†ØµØ© Ø§Ù„Ù…Ø±Ø§Ù‡Ù†Ø§Øª Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ</p>
    
    <div class="platforms">
        <div class="platform" onclick="selectPlatform('1xbet')" id="platform1xbet">
            <img src="1.png" alt="1xbet">
            <span>1xbet</span>
        </div>
        
        <div class="platform" onclick="selectPlatform('melbet')" id="platformMelbet">
            <img src="2.png" alt="Melbet">
            <span>Melbet</span>
        </div>
    </div>
    
    <button onclick="continueToID()" id="continueBtn" disabled>Ù…ØªØ§Ø¨Ø¹Ø©</button>
</div>

<!-- ID -->
<div class="screen start" id="start">
    <button class="back-btn" onclick="backToPlatformSelection()">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ©</button>
    
    <h2>ğŸ Ø£ÙØ¶Ù„ Ø³ÙƒØ±Ø¨Øª ØªÙØ§Ø­Ø©</h2>
    <p>ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ â€“ ØªÙˆØ²ÙŠØ¹ ÙˆØ§Ù‚Ø¹ÙŠ â€“ Ø¨Ø¯Ø§ÙŠØ© Ù…Ù† Ø£Ù‚Ù„ Ù…Ø¶Ø§Ø¹Ù</p>
    
    <div class="platform-display" id="selectedPlatformDisplay">
        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
    </div>
    
    <p style="color:#ff9dbb">âœï¸ Ø§ÙƒØªØ¨ ID Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</p>
    <input id="uid" placeholder="ID Ø§Ù„Ø­Ø³Ø§Ø¨">
    <button onclick="startAnalysis()">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ù„ÙŠÙ„</button>
</div>

<!-- ØªØ­Ù…ÙŠÙ„ -->
<div class="screen" id="loading">
    <h3 style="text-align:center" id="loadingTitle">Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</h3>
    <div class="loader">
        <div class="bar" id="bar"></div>
    </div>
    <p id="per" style="text-align:center">0%</p>
    
    <div class="loading-info">
        <p id="platformInfo"></p>
        <p id="userIdInfo"></p>
    </div>
</div>

<!-- Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div class="screen game" id="game">
    <div class="board" id="board"></div>
    <div class="menu">
        <button onclick="newGame()">ğŸ® Ø¬ÙŠÙ… Ø¬Ø¯ÙŠØ¯</button>
        <button onclick="exitGame()">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>
</div>

<script>
// Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø©
let selectedPlatform = null;
let userID = "";
const multipliers=[
    "x1.23","x1.54","x1.93",
    "x2.41","x4.02","x6.71",
    "x11.18","x27.92","x69.93","x349.88"
];

// Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ©
function selectPlatform(platform) {
    selectedPlatform = platform;
    
    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚
    document.querySelectorAll('.platform').forEach(p => {
        p.classList.remove('active-platform');
    });
    
    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù„Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    if(platform === '1xbet') {
        document.getElementById('platform1xbet').classList.add('active-platform');
    } else {
        document.getElementById('platformMelbet').classList.add('active-platform');
    }
    
    // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©
    document.getElementById('continueBtn').disabled = false;
}

// Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© ID
function continueToID() {
    if(!selectedPlatform) return;
    
    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    const displayDiv = document.getElementById('selectedPlatformDisplay');
    const platformName = selectedPlatform === '1xbet' ? '1xbet' : 'Melbet';
    const imageSrc = selectedPlatform === '1xbet' ? '1.png' : '2.png';
    
    displayDiv.innerHTML = `
        <img src="${imageSrc}" alt="${platformName}">
        <span>${platformName}</span>
    `;
    
    show("start");
}

// Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ©
function backToPlatformSelection() {
    show("platformSelection");
    document.getElementById('uid').value = "";
}

// Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„
function startAnalysis() {
    userID = document.getElementById('uid').value.trim();
    
    if(!selectedPlatform) {
        alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù†ØµØ© Ø§Ù„Ù…Ø±Ø§Ù‡Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹");
        backToPlatformSelection();
        return;
    }
    
    if(!userID) {
        alert("Ø§ÙƒØªØ¨ ID Ø§Ù„Ø­Ø³Ø§Ø¨");
        return;
    }
    
    show("loading");
    
    // ØªØ¹ÙŠÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØµØ© ÙˆID
    const platformName = selectedPlatform === '1xbet' ? '1xbet' : 'Melbet';
    document.getElementById('platformInfo').textContent = `Ø§Ù„Ù…Ù†ØµØ©: ${platformName}`;
    document.getElementById('userIdInfo').textContent = `ID: ${userID}`;
    
    let p = 0;
    const i = setInterval(() => {
        // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…Ø®ØªÙ„ÙØ© ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©
        p += Math.random() * 10 + 3;
        
        if(p >= 100) {
            p = 100;
            clearInterval(i);
            setTimeout(() => {
                show("game");
                build();
            }, 400);
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        document.getElementById('bar').style.width = p + "%";
        document.getElementById('per').textContent = Math.floor(p) + "%";
        
        // ØªØºÙŠÙŠØ± Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
        if(p < 30) {
            document.getElementById('loadingTitle').textContent = "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...";
        } else if(p < 60) {
            document.getElementById('loadingTitle').textContent = "Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª...";
        } else if(p < 90) {
            document.getElementById('loadingTitle').textContent = "Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©...";
        } else {
            document.getElementById('loadingTitle').textContent = "Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬...";
        }
        
    }, 220);
}

// Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
function build(){
    document.getElementById('board').innerHTML = "";
    
    multipliers.forEach((m, index) => {
        const row = document.createElement("div");
        row.className = "row";
        row.style.animationDelay = (index * 0.08) + "s";

        const mult = document.createElement("div");
        mult.className = "mult";
        mult.textContent = m;

        const apples = document.createElement("div");
        apples.className = "apples";

        // ØªÙˆØ²ÙŠØ¹ Ø§Ù„ØªÙØ§Ø­ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø£ÙƒØ«Ø± ÙˆØ§Ù‚Ø¹ÙŠØ©
        let badCount;
        if(index < 2) badCount = 1;
        else if(index < 5) badCount = 2;
        else if(index < 8) badCount = 3;
        else badCount = 4;

        const badPos = [];
        while(badPos.length < badCount) {
            const r = Math.floor(Math.random() * 5);
            if(!badPos.includes(r)) badPos.push(r);
        }

        for(let i = 0; i < 5; i++) {
            const a = document.createElement("div");
            a.className = "apple " + (badPos.includes(i) ? "bad" : "good");
            a.textContent = badPos.includes(i) ? "ğŸ›" : "ğŸ";
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø±
            a.onclick = function() {
                if(badPos.includes(i)) {
                    this.style.opacity = "0.7";
                    this.style.transform = "scale(0.9)";
                }
            };
            
            apples.appendChild(a);
        }

        row.appendChild(mult);
        row.appendChild(apples);
        document.getElementById('board').appendChild(row);
    });
}

function newGame(){
    show("start");
    document.getElementById('uid').value = "";
}

function exitGame(){
    show("platformSelection");
    selectedPlatform = null;
    userID = "";
    document.querySelectorAll('.platform').forEach(p => {
        p.classList.remove('active-platform');
    });
    document.getElementById('continueBtn').disabled = true;
}

function show(id){
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}
</script>

</body>
</html>
